\hypertarget{hal__sdio_8c_source}{}\doxysection{hal\+\_\+sdio.\+c}
\label{hal__sdio_8c_source}\index{C:/Users/XerolySkinner/Desktop/MM\_Device/MM32F327x/HAL\_Lib/Src/hal\_sdio.c@{C:/Users/XerolySkinner/Desktop/MM\_Device/MM32F327x/HAL\_Lib/Src/hal\_sdio.c}}
\mbox{\hyperlink{hal__sdio_8c}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00018}00018 \textcolor{comment}{// Define to prevent recursive inclusion}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00019}\mbox{\hyperlink{hal__sdio_8c_ac641047eae753bca34f8407f5b5f69ad}{00019}} \textcolor{preprocessor}{\#define \_HAL\_SDIO\_C\_}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00020}00020 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{reg__sdio_8h}{reg\_sdio.h}}"{}}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00021}00021 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{hal__sdio_8h}{hal\_sdio.h}}"{}}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00022}00022 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{hal__rcc_8h}{hal\_rcc.h}}"{}}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00023}00023 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00025}00025 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00033}00033 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00043}\mbox{\hyperlink{group___i2_c___exported___functions_gac359d2c6c67a2590f8f9b720c0e4ff1b}{00043}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_d_i_o___exported___functions_gac359d2c6c67a2590f8f9b720c0e4ff1b}{SDIO\_DeInit}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00044}00044 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00045}00045     \mbox{\hyperlink{group___r_c_c___exported___functions_ga2284d4bad95f741f57168435ee90956d}{RCC\_AHBPeriphResetCmd}}(\mbox{\hyperlink{reg__rcc_8h_a40bb8718a36c4c723cc90d8d25b93742}{RCC\_AHBRSTR\_SDIO}}, \mbox{\hyperlink{types_8h_ac9a7e9a35d2513ec15c3b537aaa4fba1a7d46875fa3ebd2c34d2756950eda83bf}{ENABLE}});}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00046}00046     \mbox{\hyperlink{group___r_c_c___exported___functions_ga2284d4bad95f741f57168435ee90956d}{RCC\_AHBPeriphResetCmd}}(\mbox{\hyperlink{reg__rcc_8h_a40bb8718a36c4c723cc90d8d25b93742}{RCC\_AHBRSTR\_SDIO}}, \mbox{\hyperlink{types_8h_ac9a7e9a35d2513ec15c3b537aaa4fba1ad3a9df141be0ccf10389b640f492b26d}{DISABLE}});}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00047}00047 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00054}\mbox{\hyperlink{group___i2_c___exported___functions_ga778d338c29df4fae9ef69432e6df32ad}{00054}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga778d338c29df4fae9ef69432e6df32ad}{SDIO\_StructInit}}(\mbox{\hyperlink{struct_s_d_i_o___init_type_def}{SDIO\_InitTypeDef}}* SDIO\_InitStruct)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00055}00055 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00056}00056     \textcolor{comment}{// SDIO\_InitStruct members default value}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00057}00057     SDIO\_InitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___init_type_def_ab72364689b91d1bccc4744720de9c89e}{SDIO\_MDEN}} = 0;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00058}00058     SDIO\_InitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___init_type_def_abd205f97bbd98b1180231464df3d71f5}{SDIO\_DATWT}} = 0;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00059}00059     SDIO\_InitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___init_type_def_a6d24026b1c35a8abd3c2ac019e534a50}{SDIO\_SelPTSM}} = 0;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00060}00060     SDIO\_InitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___init_type_def_a54f9cf3925c157da74addaa142d16a24}{SDIO\_CLKSP}} = 0;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00061}00061     SDIO\_InitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___init_type_def_ac77367e4eada2435444686ebc61f3111}{SDIO\_OUTM}} = 0;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00062}00062     SDIO\_InitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___init_type_def_a2d8df23e6291cc31ffc081901e95b1bf}{SDIO\_SelSM}} = 0;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00063}00063     SDIO\_InitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___init_type_def_a189e5dab2436a1cf2fbae22df4dbe908}{SDIO\_OPMSel}} = 0;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00064}00064 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00065}00065 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00066}00066 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00073}\mbox{\hyperlink{group___s_d_i_o___exported___functions_gaa83209c09e921521aca2587fb5b22ea2}{00073}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_d_i_o___exported___functions_gaa83209c09e921521aca2587fb5b22ea2}{SDIO\_DataStructInit}}(\mbox{\hyperlink{struct_s_d_i_o___data_init_type_def}{SDIO\_DataInitTypeDef}}* SDIO\_DataInitStruct)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00074}00074 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00075}00075     \textcolor{comment}{/* SDIO\_DataInitStruct members default value */}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00076}00076     SDIO\_DataInitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___data_init_type_def_a3580856d1890da4c1097abcc0370135c}{SDIO\_DataTimeOut}} = 0xFFFFFFFF;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00077}00077     SDIO\_DataInitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___data_init_type_def_a847bf42d7a20a2df38bfc296904ead36}{SDIO\_DataLength}} = 0x00;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00078}00078     SDIO\_DataInitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___data_init_type_def_aa20c2fbb862f96597c876de6649d011d}{SDIO\_DataBlockSize}} = \mbox{\hyperlink{group___g_p_i_o___exported___types_gaa86e90ddc3426b242a5230b3360c620d}{SDIO\_DataBlockSize\_1b}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00079}00079     SDIO\_DataInitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___data_init_type_def_ae05c00dfb0721f2709db0062cd485d1d}{SDIO\_TransferDir}} = \mbox{\hyperlink{group___g_p_i_o___exported___types_gaef8af0ffa4ea04b3362338d268cc0935}{SDIO\_TransferDir\_ToCard}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00080}00080 \textcolor{comment}{//    SDIO\_DataInitStruct-\/>SDIO\_TransferMode = SDIO\_TransferMode\_Block;}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00081}00081 \textcolor{comment}{//    SDIO\_DataInitStruct-\/>SDIO\_DPSM = SDIO\_DPSM\_Disable;}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00082}00082 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00083}00083 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00091}00091 \textcolor{comment}{//void SDIO\_DataConfig(SDIO\_DataInitTypeDef* SDIO\_DataInitStruct)}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00092}00092 \textcolor{comment}{//\{}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00093}00093 \textcolor{comment}{//    u32 tmpreg = 0;}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00094}00094 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00095}00095 \textcolor{comment}{//    /*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ SDIO DTIMER Configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00096}00096 \textcolor{comment}{//    /* Set the SDIO Data TimeOut value */}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00097}00097 \textcolor{comment}{//    SDIO-\/>MMC\_TIMEOUTCNT = SDIO\_DataInitStruct-\/>SDIO\_DataTimeOut;}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00098}00098 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00099}00099 \textcolor{comment}{//    /*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ SDIO DLEN Configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00100}00100 \textcolor{comment}{//    /* Set the SDIO DataLength value */}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00101}00101 \textcolor{comment}{//    SDIO-\/>MMC\_BYTECNTL = SDIO\_DataInitStruct-\/>SDIO\_DataLength;}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00102}00102 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00103}00103 \textcolor{comment}{//    /*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ SDIO DCTRL Configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00104}00104 \textcolor{comment}{//    /* Get the SDIO DCTRL value */}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00105}00105 \textcolor{comment}{//    tmpreg = SDIO-\/>DCTRL;}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00106}00106 \textcolor{comment}{//    /* Clear DEN, DTMODE, DTDIR and DBCKSIZE bits */}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00107}00107 \textcolor{comment}{//    tmpreg \&= DCTRL\_CLEAR\_MASK;}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00108}00108 \textcolor{comment}{//    /* Set DEN bit according to SDIO\_DPSM value */}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00109}00109 \textcolor{comment}{//    /* Set DTMODE bit according to SDIO\_TransferMode value */}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00110}00110 \textcolor{comment}{//    /* Set DTDIR bit according to SDIO\_TransferDir value */}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00111}00111 \textcolor{comment}{//    /* Set DBCKSIZE bits according to SDIO\_DataBlockSize value */}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00112}00112 \textcolor{comment}{//    tmpreg |= (u32)SDIO\_DataInitStruct-\/>SDIO\_DataBlockSize | SDIO\_DataInitStruct-\/>SDIO\_TransferDir;//}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00113}00113 \textcolor{comment}{//              //| SDIO\_DataInitStruct-\/>SDIO\_TransferMode | SDIO\_DataInitStruct-\/>SDIO\_DPSM;}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00114}00114 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00115}00115 \textcolor{comment}{//    /* Write to SDIO DCTRL */}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00116}00116 \textcolor{comment}{//    SDIO-\/>DCTRL = tmpreg;}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00117}00117 \textcolor{comment}{//\}}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00123}\mbox{\hyperlink{group___i2_c___exported___functions_ga6824fe7b29eebad5e26e1e81b39f884d}{00123}} \textcolor{comment}{}\textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga6824fe7b29eebad5e26e1e81b39f884d}{SDIO\_ClockSet}}(\mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} value)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00124}00124 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00125}00125 \textcolor{comment}{//    SDIO-\/>MMC\_CARDSEL \&= \string~SDIO\_MMC\_CARDSEL\_MASK;}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00126}00126     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_CARDSEL = (\mbox{\hyperlink{reg__sdio_8h_a9cc74a0c0e7fa28344ffa5554d59a44d}{SDIO\_MMC\_CARDSEL\_CTREN}} | \mbox{\hyperlink{reg__sdio_8h_a47d27b7a755a4758f0798e93c4cb2efe}{SDIO\_MMC\_CARDSEL\_ENPCLK}} | (value \& 0x3F));}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00127}00127 \textcolor{comment}{//    SDIO-\/>MMC\_CARDSEL = 0xC0+0x2F;//0xdf;}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00128}00128 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00136}\mbox{\hyperlink{group___i2_c___exported___functions_gad40764a8e37c0ed5c9141ae338ff0203}{00136}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_d_i_o___exported___functions_gad40764a8e37c0ed5c9141ae338ff0203}{SDIO\_Init}}(\mbox{\hyperlink{struct_s_d_i_o___init_type_def}{SDIO\_InitTypeDef}}* SDIO\_InitStruct)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00137}00137 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00138}00138     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_CTRL \&= 0x700;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00139}00139     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_CTRL |= (SDIO\_InitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___init_type_def_a189e5dab2436a1cf2fbae22df4dbe908}{SDIO\_OPMSel}} | SDIO\_InitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___init_type_def_a2d8df23e6291cc31ffc081901e95b1bf}{SDIO\_SelSM}} |}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00140}00140                        SDIO\_InitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___init_type_def_ac77367e4eada2435444686ebc61f3111}{SDIO\_OUTM}} | SDIO\_InitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___init_type_def_a54f9cf3925c157da74addaa142d16a24}{SDIO\_CLKSP}} |}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00141}00141                        SDIO\_InitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___init_type_def_a6d24026b1c35a8abd3c2ac019e534a50}{SDIO\_SelPTSM}} | SDIO\_InitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___init_type_def_abd205f97bbd98b1180231464df3d71f5}{SDIO\_DATWT}} |}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00142}00142                        SDIO\_InitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___init_type_def_ab72364689b91d1bccc4744720de9c89e}{SDIO\_MDEN}});}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00143}00143 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00150}\mbox{\hyperlink{group___i2_c___exported___functions_gaf40594ca2987d8b4fc4dbb9d59ccf3e0}{00150}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_d_i_o___exported___functions_gaf40594ca2987d8b4fc4dbb9d59ccf3e0}{SDIO\_ITConfig}}(\mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} SDIO\_IT, \mbox{\hyperlink{types_8h_ac9a7e9a35d2513ec15c3b537aaa4fba1}{FunctionalState}} state)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00151}00151 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00152}00152     (state) ?  (\mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_INT\_MASK |= SDIO\_IT) : (\mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_INT\_MASK \&= \string~SDIO\_IT);}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00153}00153 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00160}\mbox{\hyperlink{group___i2_c___exported___functions_ga38f1b73fa641efeeb6a96472d989c767}{00160}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga38f1b73fa641efeeb6a96472d989c767}{SDIO\_CRCConfig}}(\mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} SDIO\_CRC, \mbox{\hyperlink{types_8h_ac9a7e9a35d2513ec15c3b537aaa4fba1}{FunctionalState}} state)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00161}00161 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00162}00162     (state) ?  (\mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_CRCCTL |= SDIO\_CRC) : (\mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_CRCCTL \&= \string~SDIO\_CRC);}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00163}00163 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00164}00164 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00170}\mbox{\hyperlink{group___i2_c___exported___functions_gaa843456dbaf1590d8a5b3dc5a075dcf9}{00170}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_d_i_o___exported___functions_gaa843456dbaf1590d8a5b3dc5a075dcf9}{SDIO\_Clock\_Set}}(\mbox{\hyperlink{types_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} clkdiv)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00171}00171 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00172}00172     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_CTRL \&= \string~SDIO\_MMC\_CTRL\_SelPTSM;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00173}00173     (clkdiv) ? (\mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_CTRL |= \mbox{\hyperlink{reg__sdio_8h_a4e5460755abf8d99bc0a079bcaac8f0f}{SDIO\_MMC\_CTRL\_SelPTSM}}) : (\mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_CTRL \&= \string~SDIO\_MMC\_CTRL\_SelPTSM);}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00174}00174 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00180}\mbox{\hyperlink{group___i2_c___exported___functions_ga9f053c27018521095d7333e7df238764}{00180}} \mbox{\hyperlink{group___g_p_i_o___exported___types_gacff91fa68daa1d1ee967b5b3fb3dbd8c}{SD\_Error}} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga9f053c27018521095d7333e7df238764}{SD\_PowerOFF}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00181}00181 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00182}00182     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_CARDSEL \&= \string~(\mbox{\hyperlink{reg__sdio_8h_a47d27b7a755a4758f0798e93c4cb2efe}{SDIO\_MMC\_CARDSEL\_ENPCLK}} | \mbox{\hyperlink{reg__sdio_8h_a9cc74a0c0e7fa28344ffa5554d59a44d}{SDIO\_MMC\_CARDSEL\_CTREN}});}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00183}00183     \textcolor{keywordflow}{return} \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8cae7d9e30a15fd1bc4b2cd8f10208e76a6}{SD\_OK}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00184}00184 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00191}\mbox{\hyperlink{group___s_d_i_o___exported___functions_ga09d9e89f49c87c82aec79c97b7068e24}{00191}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga09d9e89f49c87c82aec79c97b7068e24}{SDIO\_CmdStructInit}}(\mbox{\hyperlink{struct_s_d_i_o___cmd_init_type_def}{SDIO\_CmdInitTypeDef}}* SDIO\_CmdInitStruct)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00192}00192 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00193}00193     \textcolor{comment}{/* SDIO\_CmdInitStruct members default value */}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00194}00194     SDIO\_CmdInitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___cmd_init_type_def_a805f2c603cbec687f2ecf8a0f0ce582b}{SDIO\_Argument}} = 0x00;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00195}00195     SDIO\_CmdInitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___cmd_init_type_def_ab4e4ff40d8295a9cf08829e552dec964}{SDIO\_CmdIndex}} = 0x00;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00196}00196     SDIO\_CmdInitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___cmd_init_type_def_a550e0368580051feec9d7599063cdd5a}{SDIO\_Response}} = \mbox{\hyperlink{group___g_p_i_o___exported___types_ga308b8ef0e79ba451644dda923bb3ac41}{SDIO\_Response\_No}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00197}00197     SDIO\_CmdInitStruct-\/>\mbox{\hyperlink{struct_s_d_i_o___cmd_init_type_def_a5010f9ec3f62280b22bc6bb5b2d18111}{SDIO\_Wait}} = \mbox{\hyperlink{group___g_p_i_o___exported___types_ga266294e1ffd7a4b45e62bff753ca44b2}{SDIO\_Wait\_No}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00198}00198 \textcolor{comment}{//    SDIO\_CmdInitStruct-\/>SDIO\_CPSM = SDIO\_CPSM\_Disable;}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00199}00199 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00200}00200 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00208}\mbox{\hyperlink{group___i2_c___exported___functions_ga6ac7722df2ba23f1a716db8a4b38a49a}{00208}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga6ac7722df2ba23f1a716db8a4b38a49a}{SDIO\_Send\_Cmd}}(\mbox{\hyperlink{types_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} cmdindex, \mbox{\hyperlink{types_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} waitrsp, \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} arg)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00209}00209 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00210}00210     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CMD\_BUF0 = (arg >> 0) \& 0xFF;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00211}00211     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CMD\_BUF1 = (arg >> 8) \& 0xFF;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00212}00212     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CMD\_BUF2 = (arg >> 16) \& 0xFF;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00213}00213     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CMD\_BUF3 = (arg >> 24) \& 0xFF;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00214}00214     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CMD\_BUF4 = 0x40 | cmdindex;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00215}00215     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT |= 0;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00216}00216     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_IO = \mbox{\hyperlink{reg__sdio_8h_a0312b0d58e9e381eae95007f3fe50a14}{SDIO\_MMC\_IO\_AUTOTR}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00217}00217     \textcolor{keywordflow}{while}(1) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00218}00218         \textcolor{keywordflow}{if}(\mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT \& \mbox{\hyperlink{reg__sdio_8h_a5d359ca8938ef921f6f3f0b6b10388fb}{SDIO\_CLR\_MMC\_INT\_CMDDMC}}) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00219}00219             \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT |= \mbox{\hyperlink{reg__sdio_8h_a5d359ca8938ef921f6f3f0b6b10388fb}{SDIO\_CLR\_MMC\_INT\_CMDDMC}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00220}00220             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00221}00221         \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00222}00222     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00223}00223     \textcolor{keywordflow}{if}(waitrsp == \mbox{\hyperlink{group___g_p_i_o___exported___types_ga1f61768f90641648fd5c12e8d2f7e508}{SDIO\_Response\_Short}}) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00224}00224         \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_IO =  \mbox{\hyperlink{reg__sdio_8h_a32847519effe4fa55bdeb390c5ab6f97}{SDIO\_MMC\_IO\_AUTOCLKG}} | \(\backslash\)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00225}00225                         \mbox{\hyperlink{reg__sdio_8h_a0312b0d58e9e381eae95007f3fe50a14}{SDIO\_MMC\_IO\_AUTOTR}} | \(\backslash\)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00226}00226                         \mbox{\hyperlink{reg__sdio_8h_a2a325aaf622130489ae4cee2c1dd775d}{SDIO\_MMC\_IO\_RESPCMDSEL}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00227}00227     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00228}00228     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(waitrsp == \mbox{\hyperlink{group___g_p_i_o___exported___types_ga1a11a8750612b344214f846784046bb0}{SDIO\_Response\_Long}}) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00229}00229         \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_IO =  \mbox{\hyperlink{reg__sdio_8h_a32847519effe4fa55bdeb390c5ab6f97}{SDIO\_MMC\_IO\_AUTOCLKG}} | \(\backslash\)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00230}00230                         \mbox{\hyperlink{reg__sdio_8h_a0312b0d58e9e381eae95007f3fe50a14}{SDIO\_MMC\_IO\_AUTOTR}} | \(\backslash\)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00231}00231                         \mbox{\hyperlink{reg__sdio_8h_a2a325aaf622130489ae4cee2c1dd775d}{SDIO\_MMC\_IO\_RESPCMDSEL}} | \(\backslash\)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00232}00232                         \mbox{\hyperlink{reg__sdio_8h_ad133903600be9f7a893531f02a8399fe}{SDIO\_MMC\_IO\_CID\_CSDRD}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00233}00233     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00234}00234     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00235}00235     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00236}00236 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00242}\mbox{\hyperlink{group___i2_c___exported___functions_ga77ff57848ed54cc9dbfcb2cdfd4d3104}{00242}} \mbox{\hyperlink{group___g_p_i_o___exported___types_gacff91fa68daa1d1ee967b5b3fb3dbd8c}{SD\_Error}} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga77ff57848ed54cc9dbfcb2cdfd4d3104}{CmdError}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00243}00243 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00244}00244     \mbox{\hyperlink{group___g_p_i_o___exported___types_gacff91fa68daa1d1ee967b5b3fb3dbd8c}{SD\_Error}} errorstatus = \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8cae7d9e30a15fd1bc4b2cd8f10208e76a6}{SD\_OK}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00245}00245     \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} timeout = \mbox{\hyperlink{group___g_p_i_o___exported___types_ga451e336c7bc16567a28475fcb75c9828}{SDIO\_CMD0TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00246}00246     \textcolor{keywordflow}{while} (timeout-\/-\/) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00247}00247         \textcolor{keywordflow}{if}(((\mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_IO \& \mbox{\hyperlink{reg__sdio_8h_a2a325aaf622130489ae4cee2c1dd775d}{SDIO\_MMC\_IO\_RESPCMDSEL}}) == 0) \&\& ((\mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_IO \& \mbox{\hyperlink{reg__sdio_8h_a0312b0d58e9e381eae95007f3fe50a14}{SDIO\_MMC\_IO\_AUTOTR}}) == 0))}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00248}00248             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00249}00249     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00250}00250     \textcolor{keywordflow}{if} (timeout == 0)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00251}00251         \textcolor{keywordflow}{return} \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8cae1c1b2d0962bd3f40490b15aed01c8ff}{SD\_CMD\_RSP\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00252}00252     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT = \mbox{\hyperlink{reg__sdio_8h_a99b54f59ca8ac23d50fdf9cac8c14223}{SDIO\_CLR\_MMC\_INT\_MASK}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00253}00253     \textcolor{keywordflow}{return} errorstatus;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00254}00254 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00260}\mbox{\hyperlink{group___i2_c___exported___functions_ga384372e7cd037af3dbc92da854508c70}{00260}} \mbox{\hyperlink{group___g_p_i_o___exported___types_gacff91fa68daa1d1ee967b5b3fb3dbd8c}{SD\_Error}} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga384372e7cd037af3dbc92da854508c70}{CmdResp1Error}}(\mbox{\hyperlink{types_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} cmd)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00261}00261 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00262}00262     \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} status;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00263}00263     \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} response;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00264}00264     \textcolor{keywordflow}{while}(1) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00265}00265         status = \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT ;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00266}00266         \textcolor{keywordflow}{if}(status \& (\mbox{\hyperlink{reg__sdio_8h_abc63dd2a3baa397590cc7dfd7a4c5b5a}{SDIO\_CLR\_MMC\_INT\_CRCEMC}} | \mbox{\hyperlink{reg__sdio_8h_a1a65a9406933aed963050ce49be14b31}{SDIO\_CLR\_MMC\_INT\_CRNTMC}} | \mbox{\hyperlink{reg__sdio_8h_a5d359ca8938ef921f6f3f0b6b10388fb}{SDIO\_CLR\_MMC\_INT\_CMDDMC}}))}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00267}00267             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00268}00268     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00269}00269     \textcolor{keywordflow}{if}(status \& \mbox{\hyperlink{reg__sdio_8h_a1a65a9406933aed963050ce49be14b31}{SDIO\_CLR\_MMC\_INT\_CRNTMC}}) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00270}00270         \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT = \mbox{\hyperlink{reg__sdio_8h_a1a65a9406933aed963050ce49be14b31}{SDIO\_CLR\_MMC\_INT\_CRNTMC}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00271}00271         \textcolor{keywordflow}{return} \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8cae1c1b2d0962bd3f40490b15aed01c8ff}{SD\_CMD\_RSP\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00272}00272     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00273}00273     \textcolor{keywordflow}{if}(status \& (\mbox{\hyperlink{reg__sdio_8h_abc63dd2a3baa397590cc7dfd7a4c5b5a}{SDIO\_CLR\_MMC\_INT\_CRCEMC}})) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00274}00274         \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT = \mbox{\hyperlink{reg__sdio_8h_abc63dd2a3baa397590cc7dfd7a4c5b5a}{SDIO\_CLR\_MMC\_INT\_CRCEMC}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00275}00275         \textcolor{keywordflow}{return} \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8ca6dfaca7c6ace1889e0294f4ec3ec535c}{SD\_CMD\_CRC\_FAIL}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00276}00276     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00277}00277     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT = \mbox{\hyperlink{reg__sdio_8h_a99b54f59ca8ac23d50fdf9cac8c14223}{SDIO\_CLR\_MMC\_INT\_MASK}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00278}00278 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00279}00279     \textcolor{keywordflow}{if}((\mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CMD\_BUF4 \& 0x3F) != cmd) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00280}00280         \textcolor{keywordflow}{return} \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8ca7fefea39264d07dd179b12be8bf2e51c}{SD\_ILLEGAL\_CMD}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00281}00281     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00282}00282     response = \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CMD\_BUF3 << 24  | \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CMD\_BUF2 << 16  | \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CMD\_BUF1 << 8  | \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CMD\_BUF0;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00283}00283     \textcolor{keywordflow}{return} (\mbox{\hyperlink{group___g_p_i_o___exported___types_gacff91fa68daa1d1ee967b5b3fb3dbd8c}{SD\_Error}})(response \& \mbox{\hyperlink{group___mask_gace772bc4b0b2fdf6488e308afe8f29d1}{SD\_OCR\_ERRORBITS}});}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00284}00284 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00290}\mbox{\hyperlink{group___i2_c___exported___functions_gae875982cdc6a453c2793073e8004585e}{00290}} \mbox{\hyperlink{group___g_p_i_o___exported___types_gacff91fa68daa1d1ee967b5b3fb3dbd8c}{SD\_Error}} \mbox{\hyperlink{group___s_d_i_o___exported___functions_gae875982cdc6a453c2793073e8004585e}{CmdResp2Error}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00291}00291 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00292}00292     \mbox{\hyperlink{group___g_p_i_o___exported___types_gacff91fa68daa1d1ee967b5b3fb3dbd8c}{SD\_Error}} errorstatus = \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8cae7d9e30a15fd1bc4b2cd8f10208e76a6}{SD\_OK}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00293}00293     \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} status;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00294}00294     \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} timeout = \mbox{\hyperlink{group___g_p_i_o___exported___types_ga451e336c7bc16567a28475fcb75c9828}{SDIO\_CMD0TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00295}00295     \textcolor{keywordflow}{while}(timeout-\/-\/) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00296}00296         status = \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT ;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00297}00297         \textcolor{keywordflow}{if}(status \& (\mbox{\hyperlink{reg__sdio_8h_abc63dd2a3baa397590cc7dfd7a4c5b5a}{SDIO\_CLR\_MMC\_INT\_CRCEMC}} | \mbox{\hyperlink{reg__sdio_8h_a1a65a9406933aed963050ce49be14b31}{SDIO\_CLR\_MMC\_INT\_CRNTMC}} | \mbox{\hyperlink{reg__sdio_8h_a5d359ca8938ef921f6f3f0b6b10388fb}{SDIO\_CLR\_MMC\_INT\_CMDDMC}}))}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00298}00298             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00299}00299     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00300}00300     \textcolor{keywordflow}{if}((timeout == 0) || (status \& \mbox{\hyperlink{reg__sdio_8h_a1a65a9406933aed963050ce49be14b31}{SDIO\_CLR\_MMC\_INT\_CRNTMC}})) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00301}00301         errorstatus = \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8cae1c1b2d0962bd3f40490b15aed01c8ff}{SD\_CMD\_RSP\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00302}00302         \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT = \mbox{\hyperlink{reg__sdio_8h_a1a65a9406933aed963050ce49be14b31}{SDIO\_CLR\_MMC\_INT\_CRNTMC}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00303}00303         \textcolor{keywordflow}{return} errorstatus;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00304}00304     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00305}00305     \textcolor{keywordflow}{if}(status \& \mbox{\hyperlink{reg__sdio_8h_abc63dd2a3baa397590cc7dfd7a4c5b5a}{SDIO\_CLR\_MMC\_INT\_CRCEMC}}) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00306}00306         errorstatus = \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8ca6dfaca7c6ace1889e0294f4ec3ec535c}{SD\_CMD\_CRC\_FAIL}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00307}00307         \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT = \mbox{\hyperlink{reg__sdio_8h_abc63dd2a3baa397590cc7dfd7a4c5b5a}{SDIO\_CLR\_MMC\_INT\_CRCEMC}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00308}00308     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00309}00309     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT = \mbox{\hyperlink{reg__sdio_8h_a99b54f59ca8ac23d50fdf9cac8c14223}{SDIO\_CLR\_MMC\_INT\_MASK}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00310}00310     \textcolor{keywordflow}{return} errorstatus;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00311}00311 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00317}\mbox{\hyperlink{group___i2_c___exported___functions_ga2c77db272852343b90b0b06573a60e88}{00317}} \mbox{\hyperlink{group___g_p_i_o___exported___types_gacff91fa68daa1d1ee967b5b3fb3dbd8c}{SD\_Error}} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga2c77db272852343b90b0b06573a60e88}{CmdResp3Error}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00318}00318 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00319}00319     \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} status;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00320}00320     \textcolor{keywordflow}{while}(1) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00321}00321         status = \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT ;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00322}00322         \textcolor{keywordflow}{if}(status \& (\mbox{\hyperlink{reg__sdio_8h_abc63dd2a3baa397590cc7dfd7a4c5b5a}{SDIO\_CLR\_MMC\_INT\_CRCEMC}} | \mbox{\hyperlink{reg__sdio_8h_a1a65a9406933aed963050ce49be14b31}{SDIO\_CLR\_MMC\_INT\_CRNTMC}} | \mbox{\hyperlink{reg__sdio_8h_a5d359ca8938ef921f6f3f0b6b10388fb}{SDIO\_CLR\_MMC\_INT\_CMDDMC}}))}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00323}00323             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00324}00324     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00325}00325     \textcolor{keywordflow}{if}(status \& \mbox{\hyperlink{reg__sdio_8h_a1a65a9406933aed963050ce49be14b31}{SDIO\_CLR\_MMC\_INT\_CRNTMC}}) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00326}00326         \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT = \mbox{\hyperlink{reg__sdio_8h_a1a65a9406933aed963050ce49be14b31}{SDIO\_CLR\_MMC\_INT\_CRNTMC}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00327}00327         \textcolor{keywordflow}{return} \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8cae1c1b2d0962bd3f40490b15aed01c8ff}{SD\_CMD\_RSP\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00328}00328     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00329}00329     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT = \mbox{\hyperlink{reg__sdio_8h_a99b54f59ca8ac23d50fdf9cac8c14223}{SDIO\_CLR\_MMC\_INT\_MASK}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00330}00330     \textcolor{keywordflow}{return} \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8cae7d9e30a15fd1bc4b2cd8f10208e76a6}{SD\_OK}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00331}00331 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00337}\mbox{\hyperlink{group___i2_c___exported___functions_gacfe36517f07f12f6b5512ca99cf5e6a1}{00337}} \mbox{\hyperlink{group___g_p_i_o___exported___types_gacff91fa68daa1d1ee967b5b3fb3dbd8c}{SD\_Error}} \mbox{\hyperlink{group___s_d_i_o___exported___functions_gacfe36517f07f12f6b5512ca99cf5e6a1}{CmdResp6Error}}(\mbox{\hyperlink{types_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} cmd, \mbox{\hyperlink{types_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}}* prca)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00338}00338 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00339}00339     \mbox{\hyperlink{group___g_p_i_o___exported___types_gacff91fa68daa1d1ee967b5b3fb3dbd8c}{SD\_Error}} errorstatus = \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8cae7d9e30a15fd1bc4b2cd8f10208e76a6}{SD\_OK}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00340}00340     \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} status;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00341}00341     \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} rspr1;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00342}00342     \textcolor{keywordflow}{while}(1) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00343}00343         status = \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT ;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00344}00344         \textcolor{keywordflow}{if}(status \& (\mbox{\hyperlink{reg__sdio_8h_abc63dd2a3baa397590cc7dfd7a4c5b5a}{SDIO\_CLR\_MMC\_INT\_CRCEMC}} | \mbox{\hyperlink{reg__sdio_8h_a1a65a9406933aed963050ce49be14b31}{SDIO\_CLR\_MMC\_INT\_CRNTMC}} | \mbox{\hyperlink{reg__sdio_8h_a5d359ca8938ef921f6f3f0b6b10388fb}{SDIO\_CLR\_MMC\_INT\_CMDDMC}}))}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00345}00345             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00346}00346     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00347}00347     \textcolor{keywordflow}{if}(status \& \mbox{\hyperlink{reg__sdio_8h_a1a65a9406933aed963050ce49be14b31}{SDIO\_CLR\_MMC\_INT\_CRNTMC}}) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00348}00348         \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT = \mbox{\hyperlink{reg__sdio_8h_a1a65a9406933aed963050ce49be14b31}{SDIO\_CLR\_MMC\_INT\_CRNTMC}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00349}00349         \textcolor{keywordflow}{return} \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8cae1c1b2d0962bd3f40490b15aed01c8ff}{SD\_CMD\_RSP\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00350}00350     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00351}00351     \textcolor{keywordflow}{if}(status \& \mbox{\hyperlink{reg__sdio_8h_abc63dd2a3baa397590cc7dfd7a4c5b5a}{SDIO\_CLR\_MMC\_INT\_CRCEMC}}) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00352}00352         \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT = \mbox{\hyperlink{reg__sdio_8h_abc63dd2a3baa397590cc7dfd7a4c5b5a}{SDIO\_CLR\_MMC\_INT\_CRCEMC}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00353}00353         \textcolor{keywordflow}{return} \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8ca6dfaca7c6ace1889e0294f4ec3ec535c}{SD\_CMD\_CRC\_FAIL}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00354}00354     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00355}00355     \textcolor{keywordflow}{if}((\mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CMD\_BUF4 \& 0x3F) != cmd) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00356}00356         \textcolor{keywordflow}{return} \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8ca7fefea39264d07dd179b12be8bf2e51c}{SD\_ILLEGAL\_CMD}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00357}00357     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00358}00358     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT = \mbox{\hyperlink{reg__sdio_8h_a99b54f59ca8ac23d50fdf9cac8c14223}{SDIO\_CLR\_MMC\_INT\_MASK}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00359}00359     rspr1 = \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CMD\_BUF3 << 24  | \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CMD\_BUF2 << 16  | \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CMD\_BUF1 << 8  | \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CMD\_BUF0;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00360}00360     \textcolor{keywordflow}{if}(\mbox{\hyperlink{group___g_p_i_o___exported___types_gaa989d106109048a2fb453928325d1f7d}{SD\_ALLZERO}} == (rspr1 \& (\mbox{\hyperlink{group___masks_ga77d65e0cdecf792a2928b61cc85ed687}{SD\_R6\_GENERAL\_UNKNOWN\_ERROR}} | \mbox{\hyperlink{group___masks_ga4f58bfcb28f68b87113fea12b172a247}{SD\_R6\_ILLEGAL\_CMD}} | \mbox{\hyperlink{group___masks_gad4677c73c4e8e7e1ec2161554cfdfeeb}{SD\_R6\_COM\_CRC\_FAILED}}))) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00361}00361         *prca = (\mbox{\hyperlink{types_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}})(rspr1 >> 16);}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00362}00362         \textcolor{keywordflow}{return} errorstatus;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00363}00363     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00364}00364     \textcolor{keywordflow}{if}(rspr1 \& \mbox{\hyperlink{group___masks_ga77d65e0cdecf792a2928b61cc85ed687}{SD\_R6\_GENERAL\_UNKNOWN\_ERROR}}) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00365}00365         \textcolor{keywordflow}{return} \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8ca46c693b1502d9e2137ead7857cfe5f9b}{SD\_GENERAL\_UNKNOWN\_ERROR}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00366}00366     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00367}00367     \textcolor{keywordflow}{if}(rspr1 \& \mbox{\hyperlink{group___masks_ga4f58bfcb28f68b87113fea12b172a247}{SD\_R6\_ILLEGAL\_CMD}}) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00368}00368         \textcolor{keywordflow}{return} \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8ca7fefea39264d07dd179b12be8bf2e51c}{SD\_ILLEGAL\_CMD}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00369}00369     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00370}00370     \textcolor{keywordflow}{if}(rspr1 \& \mbox{\hyperlink{group___masks_gad4677c73c4e8e7e1ec2161554cfdfeeb}{SD\_R6\_COM\_CRC\_FAILED}}) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00371}00371         \textcolor{keywordflow}{return} \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8ca01a35bd6664353a1af3b9ac093acdf94}{SD\_COM\_CRC\_FAILED}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00372}00372     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00373}00373     \textcolor{keywordflow}{return} errorstatus;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00374}00374 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00380}\mbox{\hyperlink{group___i2_c___exported___functions_ga6f8858b757aa1b13e112175cddaf62b9}{00380}} \mbox{\hyperlink{group___g_p_i_o___exported___types_gacff91fa68daa1d1ee967b5b3fb3dbd8c}{SD\_Error}} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga6f8858b757aa1b13e112175cddaf62b9}{CmdResp7Error}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00381}00381 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00382}00382     \mbox{\hyperlink{group___g_p_i_o___exported___types_gacff91fa68daa1d1ee967b5b3fb3dbd8c}{SD\_Error}} errorstatus = \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8cae7d9e30a15fd1bc4b2cd8f10208e76a6}{SD\_OK}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00383}00383     \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} status;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00384}00384     \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} timeout = \mbox{\hyperlink{group___g_p_i_o___exported___types_ga451e336c7bc16567a28475fcb75c9828}{SDIO\_CMD0TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00385}00385     \textcolor{keywordflow}{while}(timeout-\/-\/) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00386}00386         status = \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT ;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00387}00387         \textcolor{keywordflow}{if}(status \& (\mbox{\hyperlink{reg__sdio_8h_abc63dd2a3baa397590cc7dfd7a4c5b5a}{SDIO\_CLR\_MMC\_INT\_CRCEMC}} | \mbox{\hyperlink{reg__sdio_8h_a1a65a9406933aed963050ce49be14b31}{SDIO\_CLR\_MMC\_INT\_CRNTMC}} | \mbox{\hyperlink{reg__sdio_8h_a5d359ca8938ef921f6f3f0b6b10388fb}{SDIO\_CLR\_MMC\_INT\_CMDDMC}}))}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00388}00388             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00389}00389     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00390}00390     \textcolor{keywordflow}{if}((timeout == 0) || (status \& \mbox{\hyperlink{reg__sdio_8h_a1a65a9406933aed963050ce49be14b31}{SDIO\_CLR\_MMC\_INT\_CRNTMC}})) \{ \textcolor{comment}{//timeout}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00391}00391         errorstatus = \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8cae1c1b2d0962bd3f40490b15aed01c8ff}{SD\_CMD\_RSP\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00392}00392         \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT = \mbox{\hyperlink{reg__sdio_8h_a1a65a9406933aed963050ce49be14b31}{SDIO\_CLR\_MMC\_INT\_CRNTMC}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00393}00393         \textcolor{keywordflow}{return} errorstatus;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00394}00394     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00395}00395     \textcolor{keywordflow}{if}(status \& \mbox{\hyperlink{reg__sdio_8h_a5d359ca8938ef921f6f3f0b6b10388fb}{SDIO\_CLR\_MMC\_INT\_CMDDMC}}) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00396}00396         errorstatus = \mbox{\hyperlink{group___g_p_i_o___exported___types_ggacff91fa68daa1d1ee967b5b3fb3dbd8cae7d9e30a15fd1bc4b2cd8f10208e76a6}{SD\_OK}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00397}00397         \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT = \mbox{\hyperlink{reg__sdio_8h_a5d359ca8938ef921f6f3f0b6b10388fb}{SDIO\_CLR\_MMC\_INT\_CMDDMC}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00398}00398     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00399}00399     \textcolor{keywordflow}{return} errorstatus;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00400}00400 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00401}00401 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00402}00402 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00411}\mbox{\hyperlink{group___i2_c___exported___functions_ga8ed0e660e0b895d3f9cb9a560ad50291}{00411}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga8ed0e660e0b895d3f9cb9a560ad50291}{SDIO\_Send\_Data\_Cfg}}(\mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} datatimeout, \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} datalen, \mbox{\hyperlink{types_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} blksize, \mbox{\hyperlink{types_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} dir)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00412}00412 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00413}00413     \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} tmpreg, tmpreg1, tmpreg2 = 0;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00414}00414     tmpreg = \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_IO\_MBCTL;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00415}00415     tmpreg1 = \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_IO;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00416}00416     tmpreg \&= \string~(\mbox{\hyperlink{reg__sdio_8h_a9382e50afb9deaa17fa8dcdb32425c01}{SDIO\_MMC\_IO\_MBCTL\_BTSSel}} | \mbox{\hyperlink{reg__sdio_8h_a1a6cfe2b6db86571577ab063fb0bec07}{SDIO\_MMC\_IO\_MBCTL\_SPMBDTR}} | \mbox{\hyperlink{reg__sdio_8h_ad2439a2d9c20de27425fc880e655d210}{SDIO\_MMC\_IO\_MBCTL\_SMBDTD}});}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00417}00417     \textcolor{keywordflow}{if} (datatimeout < 100) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00418}00418         \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_TIMEOUTCNT = datatimeout;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00419}00419     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00420}00420     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (datatimeout < 10000) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00421}00421         \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_TIMEOUTCNT = datatimeout / 100;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00422}00422         tmpreg |= \mbox{\hyperlink{reg__sdio_8h_a9382e50afb9deaa17fa8dcdb32425c01}{SDIO\_MMC\_IO\_MBCTL\_BTSSel}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00423}00423     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00424}00424     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (datatimeout < 1000000) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00425}00425         \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_TIMEOUTCNT = datatimeout / 10000;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00426}00426         tmpreg |= \mbox{\hyperlink{reg__sdio_8h_a903e2043f385b5fd77abfa7ac43f5c00}{SDIO\_MMC\_IO\_MBCTL\_BTSSel\_2}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00427}00427     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00428}00428     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00429}00429         \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_TIMEOUTCNT = datatimeout / 1000000;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00430}00430         tmpreg |= \mbox{\hyperlink{reg__sdio_8h_a9382e50afb9deaa17fa8dcdb32425c01}{SDIO\_MMC\_IO\_MBCTL\_BTSSel}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00431}00431     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00432}00432     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_BYTECNTL = datalen \& 0x1FFFFFF; ;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00433}00433     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_BLOCKCNT = blksize;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00434}00434     \textcolor{keywordflow}{if} (dir == 0) \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00435}00435         tmpreg |= \mbox{\hyperlink{reg__sdio_8h_ad2439a2d9c20de27425fc880e655d210}{SDIO\_MMC\_IO\_MBCTL\_SMBDTD}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00436}00436         tmpreg1 |= \mbox{\hyperlink{reg__sdio_8h_ae70571feb8be860e01ca97b07c604208}{SDIO\_MMC\_IO\_TRANSFDIR}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00437}00437         tmpreg2 |= \mbox{\hyperlink{reg__sdio_8h_ae9d555553cb714cf46136c5c035db84c}{SDIO\_BUF\_CTLL\_SBAD}};}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00438}00438     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00439}00439     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00440}00440         tmpreg \&= \string~(\mbox{\hyperlink{reg__sdio_8h_ad2439a2d9c20de27425fc880e655d210}{SDIO\_MMC\_IO\_MBCTL\_SMBDTD}});}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00441}00441         tmpreg1 \&= \string~(\mbox{\hyperlink{reg__sdio_8h_ae70571feb8be860e01ca97b07c604208}{SDIO\_MMC\_IO\_TRANSFDIR}});}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00442}00442         tmpreg2 \&= \string~(\mbox{\hyperlink{reg__sdio_8h_ae9d555553cb714cf46136c5c035db84c}{SDIO\_BUF\_CTLL\_SBAD}});}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00443}00443     \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00444}00444     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_IO\_MBCTL = tmpreg;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00445}00445     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_IO = tmpreg1;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00446}00446     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>BUF\_CTL = tmpreg2;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00447}00447 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00453}\mbox{\hyperlink{group___s_d_i_o___exported___functions_ga3c1401afcecef6ccea6fec1b291c8e67}{00453}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga3c1401afcecef6ccea6fec1b291c8e67}{SDIO\_ClearFlag}}(\mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} SDIO\_FLAG)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00454}00454 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00455}00455     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT |= SDIO\_FLAG;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00456}00456 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00462}\mbox{\hyperlink{group___i2_c___exported___functions_ga160c7fe3b6f5c5812caa893a47f3e89a}{00462}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga160c7fe3b6f5c5812caa893a47f3e89a}{SDIO\_ClearITPendingBit}}(\mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} SDIO\_IT)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00463}00463 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00464}00464     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT |= SDIO\_IT;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00465}00465 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00471}\mbox{\hyperlink{group___i2_c___exported___functions_ga2c48bd26d3f6a531cb667bfaf6525520}{00471}} \mbox{\hyperlink{types_8h_a89136caac2e14c55151f527ac02daaff}{FlagStatus}} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga2c48bd26d3f6a531cb667bfaf6525520}{SDIO\_GetFlagStatus}}(\mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} SDIO\_FLAG)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00472}00472 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00473}00473     \textcolor{keywordflow}{return} ((\mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>CLR\_MMC\_INT \& SDIO\_FLAG) ? \mbox{\hyperlink{types_8h_a89136caac2e14c55151f527ac02daaffab44c8101cc294c074709ec1b14211792}{SET}} : \mbox{\hyperlink{types_8h_a89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}});}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00474}00474 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00480}\mbox{\hyperlink{group___i2_c___exported___functions_ga186e0c0406b9f6e56e33421f287a613b}{00480}} \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga186e0c0406b9f6e56e33421f287a613b}{SDIO\_GetTimeOutCounter}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00481}00481 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00482}00482     \textcolor{keywordflow}{return} (\mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_TIMEOUTCNT \& 0xFF);}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00483}00483 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00489}\mbox{\hyperlink{group___i2_c___exported___functions_ga2e0007f7bb12c1b43f7495c6a4a20b50}{00489}} \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga2e0007f7bb12c1b43f7495c6a4a20b50}{SDIO\_ReadData}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00490}00490 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00491}00491     \textcolor{keywordflow}{return} \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>FIFO;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00492}00492 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00498}\mbox{\hyperlink{group___i2_c___exported___functions_gac5a58e2b720a0492c693b60024ee41b0}{00498}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_d_i_o___exported___functions_gac5a58e2b720a0492c693b60024ee41b0}{SDIO\_WriteData}}(\mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} tempbuff)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00499}00499 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00500}00500     \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>FIFO = tempbuff;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00501}00501 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00507}\mbox{\hyperlink{group___s_d_i_o___exported___functions_ga66814bad725d7dbd8dd0ad3b92235328}{00507}} \mbox{\hyperlink{types_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga66814bad725d7dbd8dd0ad3b92235328}{SDIO\_GetDataCounter}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00508}00508 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00509}00509     \textcolor{keywordflow}{return} \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>MMC\_BYTECNTL;}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00510}00510 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00516}\mbox{\hyperlink{group___i2_c___exported___functions_ga5c83f845a6c1f66883c3bb6254977cda}{00516}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_d_i_o___exported___functions_ga5c83f845a6c1f66883c3bb6254977cda}{SDIO\_DMACmd}}(\mbox{\hyperlink{types_8h_ac9a7e9a35d2513ec15c3b537aaa4fba1}{FunctionalState}} state)}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00517}00517 \{}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00518}00518     (state) ?  ((\mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>BUF\_CTL |= \mbox{\hyperlink{reg__sdio_8h_ac370e4f2a3cd00eca9c8ab949c922f9b}{SDIO\_BUF\_CTLL\_DMAHEN}}), \mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>BUF\_CTL \&= (\string~(\mbox{\hyperlink{reg__sdio_8h_a9fa2349835f37997cb0d7eaaca54dc82}{SDIO\_BUF\_CTLL\_DRM}}))) : (\mbox{\hyperlink{reg__sdio_8h_a8149aa2760fffac16bc75216d5fd9331}{SDIO}}-\/>BUF\_CTL \&= \string~\mbox{\hyperlink{reg__sdio_8h_ac370e4f2a3cd00eca9c8ab949c922f9b}{SDIO\_BUF\_CTLL\_DMAHEN}});}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00519}00519 \}}
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00520}00520 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00521}00521 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00523}00523 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00525}00525 }
\DoxyCodeLine{\Hypertarget{hal__sdio_8c_source_l00527}00527 }

\end{DoxyCode}
